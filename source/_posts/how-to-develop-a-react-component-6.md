---
title: React如何开发开源UI组件（六）
date: 2020-04-27
tags: [前端,React,UI,Component]
categories: [前端]
thumbnail:
---
#  JavaScript模块打包，发布到npm
之前已经完成一个Button组件，包括样式，测试以及开发文档等等，但是作为开源组件还需要和全世界程序员共享使用，发布npm

前端的模块化：
- 全局模块规范：例如，jQuery通过暴露全局的$来访问内部模块方法。全局引入js的弊端：全局变量污染、内部依赖顺序难以维护、无法自动化处理依赖模块等
- CommonJS：Node推出在服务端的模块化规范
- AMD规范：将模块化规范推行到浏览器端，解决了早期全局引入js的所有问题，可以配合打包工具（webpack、rollup等），但是AMD语法规范在浏览器端使用还得用RequireJs来运行
- UMD规范：这种规范更新一个语法糖，它希望支持以上三种规范，大概就是在执行UMD规范时，会优先判断是当前环境是否支持AMD环境，然后再检验是否支持CommonJS环境，否则认为当前环境为浏览器环境（ window ）
- ES Modules：ES模块是官方标准，也是JavaScript语言明确的发展方向，而CommonJS模块是一种特殊的传统格式，在ES模块被提出之前做为暂时的解决方案。 ES模块允许进行静态分析，从而实现像 tree-shaking 的优化，并提供诸如循环引用和动态绑定等高级功能

> 引出一个问题，应该提供给使用者以何种方式引入我们的组件
参考antd文档看，提供两种方式引入
1. 使用npm或者yarn来安装（ES Module）
2. 浏览器引入，也就是已构建的UMD格式

